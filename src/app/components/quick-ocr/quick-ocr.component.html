<ng-container *ngTemplateOutlet="loadingTpl"></ng-container>



<div class="wrapper">
  <div  *ngIf="confidence" class="conf">
    <p>
      El nivel de confianza en el reconocimiento es de {{confidence}} %
    </p>
    <!--
      <p>Recuerda que entre mas nitida sea tu imagen</p>
      <p>Mayor sera el porcentaje de confianza en el reconocimiento</p>
    -->
  </div>

  <span class="inputfileup">
  <!--<input (change)="changeFunc($event)" type="file" name="image" placeholder="subir imagen">-->
    <input (change)="changeFunc($event)" type="file" name="inputfileup" id="inputfileup" class="fileup"/>
  </span>
  <label for="inputfileup">
    <div class="indicador" *ngIf="imageFileName"><span>{{imageFileName}}</span></div>
    <div class="indicador" *ngIf="!imageFileName"><span>Subir Imagen</span></div>
  </label>





  <div class="wrapper-sections" *ngIf="showBlock">
    <div class="in-wrapper">
      <ng-container *ngIf="true">
        <canvas #outputImage class="canvas-overlay"></canvas>
        <img id="imgPrevQuick" (load)='loadedImage()' #inputImage class="input-image" src='assets/images/{{image}}' alt="">
        <!--<img *ngIf="image" (load)='loadedImage()' #inputImage class="input-image" [src]="'assets/images/'+image" alt="">-->
      </ng-container>
      <div *ngIf="image" class="in-wrapper">
        {{image}}
      </div>
    </div>


    <div class="textResult">
      <app-output-text></app-output-text>
    </div>

  </div>

  <div class="noImage" *ngIf="!showBlock">
    <img class="uploadGif" src="assets/images/upload.gif" alt="">
    <p>Da click en el boton de arriba</p>
    <p>y selecciona una Imagen para que podamos Procesarla</p>
  </div>
</div>


<ng-template #loadingTpl>
  <div class="loading" *ngIf="loadingPercentage < 100  && loadingPercentage > 10 && statusProcess==='recognizing text'" >
    <div class="in">
      Analizando el texto de la imagen {{loadingPercentage | number: '1.2-2'}}%...
      <img class="loadingGif" src="https://i.gifer.com/WMDx.gif" alt="">
    </div>
  </div>
</ng-template>
